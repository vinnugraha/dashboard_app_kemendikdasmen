generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Role {
  id    Int     @id @default(autoincrement())
  name  String  @map("role_name")
  desc  String? @map("description")
  users User[]

  @@map("role")
}

model Kementerian {
  id        Int         @id @default(autoincrement()) @map("kementerian_id")
  nama      String      @map("nama_kementerian")
  sestamas  Sestama[]
  unitKerja UnitKerja[]

  @@map("kementerian")
}

model Sestama {
  id            Int           @id @default(autoincrement()) @map("sestama_id")
  nama          String        @map("nama_sestama")
  kementerianId Int           @map("kementerian_id")
  applications  Application[]
  kementerian   Kementerian   @relation(fields: [kementerianId], references: [id])
  unitKerja     UnitKerja[]
  users         User[]

  @@index([kementerianId])
  @@map("sestama")
}

model UnitKerja {
  id            Int           @id @default(autoincrement()) @map("unit_id")
  nama          String        @map("nama_unit")
  kementerianId Int           @map("kementerian_id")
  sestamaId     Int?          @map("sestama_id")
  applications  Application[]
  kementerian   Kementerian   @relation(fields: [kementerianId], references: [id])
  sestama       Sestama?      @relation(fields: [sestamaId], references: [id])
  users         User[]

  @@index([kementerianId])
  @@index([sestamaId])
  @@map("unit_kerja")
}

model User {
  id           Int       @id @default(autoincrement()) @map("user_id")
  username     String    @unique
  passwordHash String    @map("password_hash")
  roleId       Int       @map("role_id")
  unitKerjaId  Int       @map("unit_id")
  sestamaId    Int?      @map("sestama_id")
  role         Role      @relation(fields: [roleId], references: [id])
  sestama      Sestama?  @relation(fields: [sestamaId], references: [id])
  unitKerja    UnitKerja @relation(fields: [unitKerjaId], references: [id])

  @@index([roleId])
  @@index([unitKerjaId])
  @@index([sestamaId])
  @@map("users")
}

model Provinsi {
  id            Int             @id @default(autoincrement()) @map("provinsi_id")
  nama          String          @map("nama_provinsi")
  applications  Application[]
  kabupatenKota KabupatenKota[]

  @@map("provinsi")
}

model KabupatenKota {
  id                  Int           @id @default(autoincrement()) @map("kab_kota_id")
  provinsiId          Int           @map("provinsi_id")
  nama_kabupaten_kota String?
  applications        Application[]
  provinsi            Provinsi      @relation(fields: [provinsiId], references: [id])

  @@index([provinsiId])
  @@map("kab_kota")
}

model Bahasa {
  id           Int           @id @default(autoincrement()) @map("bahasa_id")
  nama         String        @map("nama_bahasa")
  applications Application[]

  @@map("bahasa")
}

model Framework {
  id           Int           @id @default(autoincrement()) @map("framework_id")
  nama         String        @map("nama_framework")
  applications Application[]

  @@map("framework")
}

model MetodePengembangan {
  id           Int           @id @default(autoincrement()) @map("metode_id")
  nama         String        @map("nama_metode")
  applications Application[]

  @@map("metode_pengembangan")
}

model DatabaseEngine {
  id           Int           @id @default(autoincrement()) @map("database_id")
  nama         String        @map("nama_database")
  applications Application[]

  @@map("database_list")
}

model PenggunaLayanan {
  id           Int           @id @default(autoincrement()) @map("user_layanan_id")
  nama         String        @map("nama_pengguna_layanan")
  applications Application[]

  @@map("pengguna_layanan")
}

model Rad1 {
  id    Int    @id @default(autoincrement()) @map("rad1_id")
  nama  String
  rad2s Rad2[]

  @@map("rad_1")
}

model Rad2 {
  id     Int    @id @default(autoincrement()) @map("rad2_id")
  nama   String
  rad1Id Int    @map("rad1_id")
  rad1   Rad1   @relation(fields: [rad1Id], references: [id])
  rad3s  Rad3[]

  @@index([rad1Id])
  @@map("rad_2")
}

model Rad3 {
  id     Int    @id @default(autoincrement()) @map("rad3_id")
  nama   String
  rad2Id Int    @map("rad2_id")
  rad2   Rad2   @relation(fields: [rad2Id], references: [id])
  rad4s  Rad4[]

  @@index([rad2Id])
  @@map("rad_3")
}

model Rad4 {
  id           Int           @id @default(autoincrement()) @map("rad4_id")
  nama         String
  rad3Id       Int           @map("rad3_id")
  applications Application[]
  rad3         Rad3          @relation(fields: [rad3Id], references: [id])

  @@index([rad3Id])
  @@map("rad_4")
}

model Raa1 {
  id    Int    @id @default(autoincrement()) @map("raa1_id")
  nama  String
  raa2s Raa2[]

  @@map("raa_1")
}

model Raa2 {
  id     Int    @id @default(autoincrement()) @map("raa2_id")
  nama   String
  raa1Id Int    @map("raa1_id")
  raa1   Raa1   @relation(fields: [raa1Id], references: [id])
  raa3s  Raa3[]

  @@index([raa1Id])
  @@map("raa_2")
}

model Raa3 {
  id     Int    @id @default(autoincrement()) @map("raa3_id")
  nama   String
  raa2Id Int    @map("raa2_id")
  raa2   Raa2   @relation(fields: [raa2Id], references: [id])
  raa4s  Raa4[]

  @@index([raa2Id])
  @@map("raa_3")
}

model Raa4 {
  id           Int           @id @default(autoincrement()) @map("raa4_id")
  nama         String
  raa3Id       Int           @map("raa3_id")
  applications Application[]
  raa3         Raa3          @relation(fields: [raa3Id], references: [id])

  @@index([raa3Id])
  @@map("raa_4")
}

model Rak1 {
  id    Int    @id @default(autoincrement()) @map("rak1_id")
  nama  String
  rak2s Rak2[]

  @@map("rak_1")
}

model Rak2 {
  id     Int    @id @default(autoincrement()) @map("rak2_id")
  nama   String
  rak1Id Int    @map("rak1_id")
  rak1   Rak1   @relation(fields: [rak1Id], references: [id])
  rak3s  Rak3[]

  @@index([rak1Id])
  @@map("rak_2")
}

model Rak3 {
  id     Int    @id @default(autoincrement()) @map("rak3_id")
  nama   String
  rak2Id Int    @map("rak2_id")
  rak2   Rak2   @relation(fields: [rak2Id], references: [id])
  rak4s  Rak4[]

  @@index([rak2Id])
  @@map("rak_3")
}

model Rak4 {
  id           Int           @id @default(autoincrement()) @map("rak4_id")
  nama         String
  rak3Id       Int           @map("rak3_id")
  applications Application[]
  rak3         Rak3          @relation(fields: [rak3Id], references: [id])

  @@index([rak3Id])
  @@map("rak_4")
}

model Ral1 {
  id    Int    @id @default(autoincrement()) @map("ral1_id")
  nama  String
  ral2s Ral2[]

  @@map("ral_1")
}

model Ral2 {
  id     Int    @id @default(autoincrement()) @map("ral2_id")
  nama   String
  ral1Id Int    @map("ral1_id")
  ral1   Ral1   @relation(fields: [ral1Id], references: [id])
  ral3s  Ral3[]

  @@index([ral1Id])
  @@map("ral_2")
}

model Ral3 {
  id     Int    @id @default(autoincrement()) @map("ral3_id")
  nama   String
  ral2Id Int    @map("ral2_id")
  ral2   Ral2   @relation(fields: [ral2Id], references: [id])
  ral4s  Ral4[]

  @@index([ral2Id])
  @@map("ral_3")
}

model Ral4 {
  id           Int           @id @default(autoincrement()) @map("ral4_id")
  nama         String
  ral3Id       Int           @map("ral3_id")
  applications Application[]
  ral3         Ral3          @relation(fields: [ral3Id], references: [id])

  @@index([ral3Id])
  @@map("ral_4")
}

model Rab1 {
  id    Int    @id @default(autoincrement()) @map("rab1_id")
  nama  String
  rab2s Rab2[]

  @@map("rab_1")
}

model Rab2 {
  id     Int    @id @default(autoincrement()) @map("rab2_id")
  nama   String
  rab1Id Int    @map("rab1_id")
  rab1   Rab1   @relation(fields: [rab1Id], references: [id])
  rab3s  Rab3[]

  @@index([rab1Id])
  @@map("rab_2")
}

model Rab3 {
  id     Int    @id @default(autoincrement()) @map("rab3_id")
  nama   String
  rab2Id Int    @map("rab2_id")
  rab2   Rab2   @relation(fields: [rab2Id], references: [id])
  rab4s  Rab4[]

  @@index([rab2Id])
  @@map("rab_3")
}

model Rab4 {
  id           Int           @id @default(autoincrement()) @map("rab4_id")
  nama         String
  rab3Id       Int           @map("rab3_id")
  applications Application[]
  rab3         Rab3          @relation(fields: [rab3Id], references: [id])

  @@index([rab3Id])
  @@map("rab_4")
}

model Rai1 {
  id    Int    @id @default(autoincrement()) @map("rai1_id")
  nama  String
  rai2s Rai2[]

  @@map("rai_1")
}

model Rai2 {
  id     Int    @id @default(autoincrement()) @map("rai2_id")
  nama   String
  rai1Id Int    @map("rai1_id")
  rai1   Rai1   @relation(fields: [rai1Id], references: [id])
  rai3s  Rai3[]

  @@index([rai1Id])
  @@map("rai_2")
}

model Rai3 {
  id     Int    @id @default(autoincrement()) @map("rai3_id")
  nama   String
  rai2Id Int    @map("rai2_id")
  rai2   Rai2   @relation(fields: [rai2Id], references: [id])
  rai4s  Rai4[]

  @@index([rai2Id])
  @@map("rai_3")
}

model Rai4 {
  id           Int           @id @default(autoincrement()) @map("rai4_id")
  nama         String
  rai3Id       Int           @map("rai3_id")
  applications Application[]
  rai3         Rai3          @relation(fields: [rai3Id], references: [id])

  @@index([rai3Id])
  @@map("rai_4")
}

model Application {
  id                Int                           @id @default(autoincrement()) @map("application_id")
  namaAplikasi      String                        @map("nama_aplikasi")
  unitId            Int                           @map("unit_id")
  sistemOperasi     SistemOperasi?                @map("sistem_operasi")
  provinsiId        Int?                          @map("provinsi_id")
  kabKotaId         Int?                          @map("kab_kota_id")
  bahasaId          Int?                          @map("bahasa_id")
  frameworkId       Int?                          @map("framework_id")
  metodeId          Int?                          @map("metode_id")
  databaseId        Int?                          @map("database_id")
  penggunaLayananId Int?                          @map("user_layanan_id")
  rab4Id            Int?                          @map("rab4_id")
  createdAt         DateTime                      @default(now()) @map("created_at")
  updatedAt         DateTime                      @default(now()) @updatedAt @map("updated_at")
  basisAplikasi     BasisAplikasi?                @map("basis_aplikasi")
  deskripsiAplikasi String?                       @map("deskripsi_aplikasi")
  domainKementerian DomainKementerian?            @map("domain_kementerian")
  emailPengelola    String?                       @map("email_pengelola")
  ipPublik          String?                       @map("ip_publik")
  jenisLayanan      JenisLayanan?                 @map("jenis_layanan")
  kondisi_aplikasi  application_kondisi_aplikasi?
  layananInfra      LayananInfra?                 @map("layanan_infra")
  modelPengembangan ModelPengembangan?            @map("model_pengembangan")
  namaPengelola     String?                       @map("nama_pengelola")
  nia               String?
  nomorBmn          String?                       @map("nomor_bmn")
  nomorHpPengelola  String?                       @map("nomor_hp_pengelola")
  nomorPse          String?                       @map("nomor_pse")
  outputAplikasi    String?                       @map("output_aplikasi")
  punyaPse          YaTidak?                      @map("punya_pse")
  raa1Id            Int?                          @map("raa1_id")
  raa2Id            Int?                          @map("raa2_id")
  raa3Id            Int?                          @map("raa3_id")
  raa4Id            Int?                          @map("raa4_id")
  rab1Id            Int?                          @map("rab1_id")
  rab2Id            Int?                          @map("rab2_id")
  rab3Id            Int?                          @map("rab3_id")
  rad1Id            Int?                          @map("rad1_id")
  rad2Id            Int?                          @map("rad2_id")
  rad3Id            Int?                          @map("rad3_id")
  rad4Id            Int?                          @map("rad4_id")
  rai1Id            Int?                          @map("rai1_id")
  rai2Id            Int?                          @map("rai2_id")
  rai3Id            Int?                          @map("rai3_id")
  rai4Id            Int?                          @map("rai4_id")
  rak1Id            Int?                          @map("rak1_id")
  rak2Id            Int?                          @map("rak2_id")
  rak3Id            Int?                          @map("rak3_id")
  rak4Id            Int?                          @map("rak4_id")
  ral1Id            Int?                          @map("ral1_id")
  ral2Id            Int?                          @map("ral2_id")
  ral3Id            Int?                          @map("ral3_id")
  ral4Id            Int?                          @map("ral4_id")
  sasaranLayanan    SasaranLayanan?               @map("sasaran_layanan")
  sestamaId         Int?                          @map("sestama_id")
  singkatanAplikasi String?                       @map("singkatan_aplikasi")
  sslStatus         YaTidak?                      @map("ssl_status")
  termasukBmn       YaTidak?                      @map("termasuk_bmn")
  tipeLisensi       TipeLisensi?                  @map("tipe_lisensi")
  url               String?
  bahasa            Bahasa?                       @relation(fields: [bahasaId], references: [id])
  databaseEngine    DatabaseEngine?               @relation(fields: [databaseId], references: [id])
  framework         Framework?                    @relation(fields: [frameworkId], references: [id])
  kabKota           KabupatenKota?                @relation(fields: [kabKotaId], references: [id])
  metode            MetodePengembangan?           @relation(fields: [metodeId], references: [id])
  provinsi          Provinsi?                     @relation(fields: [provinsiId], references: [id])
  raa4              Raa4?                         @relation(fields: [raa4Id], references: [id])
  rab4              Rab4?                         @relation(fields: [rab4Id], references: [id])
  rad4              Rad4?                         @relation(fields: [rad4Id], references: [id])
  rai4              Rai4?                         @relation(fields: [rai4Id], references: [id])
  rak4              Rak4?                         @relation(fields: [rak4Id], references: [id])
  ral4              Ral4?                         @relation(fields: [ral4Id], references: [id])
  sestama           Sestama?                      @relation(fields: [sestamaId], references: [id])
  unit              UnitKerja                     @relation(fields: [unitId], references: [id])
  penggunaLayanan   PenggunaLayanan?              @relation(fields: [penggunaLayananId], references: [id])

  @@index([unitId])
  @@index([sestamaId])
  @@index([provinsiId])
  @@index([kabKotaId])
  @@index([penggunaLayananId])
  @@index([bahasaId])
  @@index([frameworkId])
  @@index([metodeId])
  @@index([databaseId])
  @@index([rad1Id])
  @@index([rad2Id])
  @@index([rad3Id])
  @@index([rad4Id])
  @@index([raa1Id])
  @@index([raa2Id])
  @@index([raa3Id])
  @@index([raa4Id])
  @@index([rak1Id])
  @@index([rak2Id])
  @@index([rak3Id])
  @@index([rak4Id])
  @@index([ral1Id])
  @@index([ral2Id])
  @@index([ral3Id])
  @@index([ral4Id])
  @@index([rab1Id])
  @@index([rab2Id])
  @@index([rab3Id])
  @@index([rab4Id])
  @@index([rai1Id])
  @@index([rai2Id])
  @@index([rai3Id])
  @@index([rai4Id])
  @@map("application")
}

enum DomainKementerian {
  KEMENDIKDASMEN    @map("Kemendikdasmen")
  KEMENDIKBUD       @map("Kemendikbud")
  KEMENDIKTISAINTEK @map("Kemendiktisaintek")
}

enum YaTidak {
  YA    @map("Ya")
  TIDAK @map("Tidak")
}

enum JenisLayanan {
  G2G @map("G2G")
  G2C @map("G2C")
  G2B @map("G2B")
}

enum SasaranLayanan {
  LOKAL         @map("Lokal")
  NASIONAL      @map("Nasional")
  INTERNASIONAL @map("Internasional")
}

enum BasisAplikasi {
  WEB     @map("Web")
  DESKTOP @map("Desktop")
  MOBILE  @map("Mobile")
}

enum TipeLisensi {
  OPEN_SOURCE @map("Open Source")
  PROPRIETARY @map("Proprietary")
}

enum ModelPengembangan {
  MICROSERVICES @map("Microservices")
  MONOLITHIC    @map("Monolytic")
}

enum SistemOperasi {
  WINDOWS @map("Windows")
  LINUX   @map("Linux")
}

enum LayananInfra {
  PDNS                        @map("PDNS")
  KOMPUTASI_AWAN_PUSDATIN     @map("Komputasi Awan Pusdatin")
  PUBLIC_CLOUD_PUSDATIN       @map("Public Cloud Pusdatin")
  PUBLIC_CLOUD_MANDIRI        @map("Public Cloud Mandiri")
  HOSTING                     @map("Hosting")
  COLOCATION_PUSDATIN_CIPUTAT @map("Co-location Pusdatin Ciputat")
  COLOCATION_PUSDATIN_SENAYAN @map("Co-location Pusdatin Senayan")
  COLOCATION_PUSDATIN_IDC     @map("Co-location Pusdatin IDC")
  COLOCATION_MANDIRI          @map("Co-location Mandiri")
  RUANG_SERVER_MANDIRI        @map("Ruang Server Mandiri")
}

enum application_kondisi_aplikasi {
  Aktif_dan_Digunakan               @map("Aktif dan Digunakan")
  Aktif_dan_Tidak_Digunakan         @map("Aktif dan Tidak Digunakan")
  Tidak_Aktif_tetapi_Akan_Digunakan @map("Tidak Aktif tetapi Akan Digunakan")
  Tidak_Aktif_dan_Tidak_Digunakan   @map("Tidak Aktif dan Tidak Digunakan")
}
